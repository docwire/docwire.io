/* Imports */
@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,600,300');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap');

/* Global Variables */
:root {
    /* Fonts */
    --font-family: 'Montserrat', sans-serif; /* Updated to Montserrat based on usage */
    --font-family-Open-Sans: 'Open Sans', sans-serif;

    /* Colors - Brand */
    --brand-white: #FFFFFF;
    --brand-black: #000000;
    --brand-orange: #ff9f1c;
    --brand-violet: #6600cc;

    /* Gradients */
    --gradient-text: linear-gradient(89.97deg, var(--brand-gradient-start) 1.84%, var(--brand-gradient-end) 102.67%);
    --gradient-bar: linear-gradient(283.22deg, var(--brand-gradient-start) -13.86%, var(--brand-gradient-end) 99.55%);
    --gradient-scroll-hover: linear-gradient(283deg, var(--brand-gradient-start) -13.86%, var(--brand-gradient-end) 99.55%);

    /* --- Light Mode Color System --- */
    /* Base */
    --color-bg: var(--brand-white);
    --color-footer: var(--color-bg);
    --color-blog: var(--color-surface);

    /* Fallbacks for older browsers (no color-mix support) */
    --brand-gradient-start: var(--brand-violet);
    --brand-gradient-end: var(--brand-orange);
    --color-surface: #f5f5f5; /* Fallback: Light Grey */
    --color-text: #1f1f1f;    /* Fallback: Soft Black */
    --color-subtext: #cc7f16; /* Fallback: High contrast orange */

    /* Link Colors */
    --color-link: var(--brand-violet);
    --color-link-hover: var(--color-subtext);

    /* Layout Defaults */
    --container-width: 80vw;
    --container-max-width: 1126px;

    /* Typography Defaults */
    --font-size-h1: clamp(2.25rem, 5vw + 1rem, 3.5rem); /* Fluid: 36px -> 56px */
    --font-size-h2: clamp(1.75rem, 4vw + 1rem, 2.5rem); /* Fluid: 28px -> 40px */
    --font-size-h3: clamp(1.5rem, 3vw + 1rem, 2rem);    /* Fluid: 24px -> 32px */
    --font-size-h4: clamp(1.25rem, 2vw + 1rem, 1.5rem); /* Fluid: 20px -> 24px */
    --font-size-body-large: 1.25rem; /* ~20px */
    --font-size-body: 1rem;        /* ~16px */
    --font-size-small: 0.875rem;   /* ~14px */
}

/* Dark Mode Overrides */
html[data-theme='dark'] {
    /* --- Dark Mode Color System --- */
    /* Base */
    --color-bg: var(--brand-black);
    --color-footer: var(--color-bg);
    --color-blog: var(--color-surface);
    --color-text: var(--brand-white);

    /* Fallbacks for older browsers */
    --color-surface: #1a1023; /* Fallback: Deep purple */
    --color-subtext: #ffc966; /* Fallback: Lighter orange */

    /* Link Colors */
    --color-link: var(--brand-white);
    --color-link-hover: var(--brand-violet);
}

/* Derived colors for modern browsers */
@supports (color: color-mix(in srgb, red, blue)) {
    :root {
        --brand-gradient-start: color-mix(in srgb, var(--brand-violet), var(--brand-white) 15%);
        --brand-gradient-end: color-mix(in srgb, var(--brand-orange), var(--brand-white) 15%);
        --color-surface: color-mix(in srgb, var(--brand-white), var(--brand-black) 4%);
        --color-text: color-mix(in srgb, var(--brand-black), var(--brand-white) 12%);
        --color-subtext: color-mix(in srgb, var(--brand-orange), var(--brand-black) 25%);
    }
    html[data-theme='dark'] {
        --color-surface: color-mix(in srgb, var(--brand-black), var(--brand-violet) 14%);
        --color-subtext: color-mix(in srgb, var(--brand-orange), var(--brand-white) 10%);
    }
}

/* Docusaurus Theme Overrides - Applied to both modes to ensure precedence */
:root, html[data-theme='dark'] {
    --ifm-font-family-base: var(--font-family-Open-Sans);
    --ifm-color-primary: var(--brand-violet);
    --ifm-background-color: var(--color-bg);
    --ifm-text-color: var(--color-text);
    --ifm-link-color: var(--color-link);
    --ifm-link-hover-color: var(--color-link-hover);
    --ifm-navbar-background-color: var(--brand-violet);
    --ifm-navbar-link-color: var(--brand-white);
    --ifm-navbar-link-hover-color: var(--brand-gradient-end);
    --ifm-footer-background-color: var(--color-footer);
    --ifm-footer-color: var(--color-text);
    --ifm-footer-title-color: var(--color-text);
    --ifm-footer-link-color: var(--color-link);
}

/* Global Resets */

* {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
}

@media (prefers-reduced-motion: no-preference) {
    html { scroll-behavior: smooth; }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--color-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--gradient-bar);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--gradient-scroll-hover);
    border-radius: 4px;
}

/* Utilities */
@media screen and (max-width: 700px) {
    .section__padding { padding: 4rem; }
    .section__margin { margin: 4rem; }
}

@media screen and (max-width: 550px) {
    .section__padding { padding: 4rem 2rem; }
    .section__margin { margin: 4rem 2rem; }
}

/* Header "Contact Us" Button Styling */
.navbar__item.navbar__link[href*="contact"],
.navbar__link--contact {
    background-color: var(--color-bg);
    color: var(--color-link) !important;
    padding: 0.5rem 1.25rem;
    border-radius: 2rem;
    font-weight: 700;
    transition: transform 0.2s ease, opacity 0.2s ease;
}

/* Logo Adaptation for Violet Header */
.navbar__logo img {
    filter: invert(100%);
    mix-blend-mode: screen;
}